package com.example.jwtclientapp.service;

import org.springframework.http.ResponseEntity;
import org.springframework.stereotype.Service;
import org.springframework.web.client.RestTemplate;

import com.example.jwtclientapp.request.JwtRequest;
import com.example.jwtclientapp.response.JwtResponse;

@Service
public class StudentService {

	private static final String Auth_ENDPOINT="http://localhost:8080/auth/login";
	private static final String STUDENTNAME_ENDPOINT="http://localhost:8080/studentname";
	public String invokeSecuredRestApi() {
		
		String response=null;
		RestTemplate rt=new RestTemplate();
		JwtRequest request=new JwtRequest("karthik@gmail.com","karthik");
		ResponseEntity<JwtResponse> postForEntity = rt.postForEntity(Auth_ENDPOINT, request, JwtResponse.class);
		
		JwtResponse body = postForEntity.getBody();
		
		System.out.println(body);
		
		return response;
		
	}
}
